packaging_format = 2

id = "simplex"
name = "SimpleX"
description.en = "Messaging platform operating without user identifiers"
description.fr = "Plate-forme de messagerie fonctionnant sans identifiants d'utilisateurs"

version = "6.4.4~ynh1"

maintainers = []

[upstream]
license = "AGPL-3.0"
website = "https://simplex.chat/"
admindoc = "https://github.com/simplex-chat/simplex-chat/blob/stable/docs/SERVER.md"
code = "https://github.com/simplex-chat/simplexmq"
cpe = "cpe:2.3:a:simplex:simplex_chat"
fund = "https://opencollective.com/simplex-chat"

[integration]
yunohost = ">= 12.0.9"
helpers_version = "2.1"
architectures = ["amd64", "arm64"]
multi_instance = false

ldap = "not_relevant"
sso = "not_relevant"

disk = "50M"
ram.build = "150M"
ram.runtime = "50M"

[install]

    [install.domain]
    type = "domain"

    [install.init_main_permission]
    type = "group"
    default = "visitors"

[resources]

 [resources.sources]
   [resources.sources.main]
   amd64.url = "https://github.com/YunoHost-Apps/simplex_ynh/releases/download/v6.4.4/smp-server_amd64"
   amd64.sha256 = "23530e843cb792b5e5eccf2fc3fc714fca51ea2128f6e0b9d4624ffff44cc553"
   arm64.url = "https://github.com/YunoHost-Apps/simplex_ynh/releases/download/v6.4.4/smp-server_arm64"
   arm64.sha256 = "a5c5091b823e828058e9c91477b7f1400b281e4dd789b9efd2aaafeeb97315f4"
   in_subdir = false
   extract = false
   rename = "smp-server"

   [resources.sources.xftp]
   amd64.url = "https://github.com/YunoHost-Apps/simplex_ynh/releases/download/v6.4.4/xftp-server_amd64"
   amd64.sha256 = "4e46962db87589fdde70ad5553786875db9a1d8136f539fc2f45ee2ffde788a7"
   arm64.url = "https://github.com/YunoHost-Apps/simplex_ynh/releases/download/v6.4.4/xftp-server_arm64"
   arm64.sha256 = "9e7daaa8ccdf64421ae435140b667bc8f2025829225c8ce426402bc089b77c40"
   in_subdir = false
   extract = false
   rename = "xftp-server"

   [resources.system_user]

   [resources.install_dir]
   group = "www-data:r-x"

   [resources.data_dir]

   [resources.permissions]
   main.url = "/"

   [resources.ports]
   main.default = 5223
   main.exposed = "TCP"
   xftp.default = 5224
   xftp.exposed = "TCP"
